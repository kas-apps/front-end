# カード型TODOアプリ - 要件定義書

**プロジェクト名**：Card Todo（カードトゥードゥー）
**作成日**：2025-12-01
**作成者**：バイブコーダー太郎

---

## プロジェクト概要

### 何を作るか

カード形式で視覚的に見やすいTODOアプリケーション

### 誰が使うか

自分自身（個人のタスク管理用）

### どんな問題を解決するか

- やるべきことを忘れないようにする
- タスクの優先度を可視化して、重要なことを見逃さない
- カテゴリ別に整理して、タスクを見つけやすくする
- 完了したタスクを記録して、達成感を得る

### Phase 3のTODOリストとの違い

| 項目 | Phase 3 | Phase 6（このプロジェクト） |
|------|---------|------------------------|
| UI | リスト形式 | カード形式 |
| 情報量 | タイトルのみ | タイトル、説明、優先度、カテゴリ、締切日 |
| 機能 | 追加、削除、完了切替 | 追加、編集、削除、完了切替、フィルター、ソート、検索 |
| データ永続化 | なし | LocalStorage |
| コード規模 | 218行 | 1000-1500行 |

---

## ユーザーストーリー

### US-001：タスク管理の基本

```text
ユーザーとして、
タスクを追加・編集・削除したい、
なぜならタスクを管理する必要があるため
```

### US-002：優先度の可視化

```text
ユーザーとして、
タスクに優先度を設定したい、
なぜなら重要なタスクを見逃さないようにするため
```

### US-003：カテゴリ分け

```text
ユーザーとして、
タスクをカテゴリ別に分類したい、
なぜなら仕事とプライベートを分けて管理したいため
```

### US-004：締切日の設定

```text
ユーザーとして、
タスクに締切日を設定したい、
なぜなら期限を意識してタスクを進めたいため
```

### US-005：フィルターとソート

```text
ユーザーとして、
タスクをフィルターしたりソートしたりしたい、
なぜなら必要なタスクだけを表示したいため
```

### US-006：データの永続化

```text
ユーザーとして、
ページを再読み込みしてもデータが残っていてほしい、
なぜなら毎回入力し直すのは面倒だから
```

---

## 機能要件

### 必須機能（Must Have）

これがないとアプリとして成り立たない機能

#### F-001：タスクの追加

- **説明**：新しいタスクを追加できる
- **入力項目**：
  - タイトル（必須、最大100文字）
  - 説明（任意、最大500文字）
  - 優先度（必須、高・中・低から選択）
  - カテゴリ（必須、仕事・プライベート・買い物から選択）
  - 締切日（任意、日付選択）
- **動作**：
  - 「追加」ボタンをクリックすると、タスクが一覧に追加される
  - フォームは自動的にクリアされる
  - タスク追加成功のフィードバック（トースト通知）を表示

#### F-002：タスクの一覧表示

- **説明**：追加したタスクをカード形式で表示する
- **表示内容**：
  - タスクタイトル
  - タスクの説明（2行まで、超えたら省略記号）
  - 優先度バッジ（高=赤、中=黄、低=緑）
  - カテゴリアイコン
  - 締切日（設定されている場合）
  - 完了チェックボックス
  - 編集ボタン
  - 削除ボタン
- **レイアウト**：
  - モバイル：1カラム
  - タブレット：2カラム
  - デスクトップ：3カラム

#### F-003：タスクの完了切替

- **説明**：タスクを完了/未完了に切り替えられる
- **動作**：
  - チェックボックスをクリックすると、完了/未完了が切り替わる
  - 完了したタスクは、タイトルに取り消し線が引かれる
  - 完了したタスクは、カード全体が半透明になる

#### F-004：タスクの削除

- **説明**：不要なタスクを削除できる
- **動作**：
  - 削除ボタンをクリックすると、確認ダイアログが表示される
  - 「OK」を選択すると、タスクが削除される
  - 「キャンセル」を選択すると、削除がキャンセルされる

#### F-005：統計表示

- **説明**：タスクの統計情報を表示する
- **表示内容**：
  - 全タスク数
  - 未完了タスク数
  - 完了タスク数

---

### 拡張機能（Should Have）

あると便利だけど、なくてもアプリは動く機能

#### F-101：タスクの編集

- **説明**：既存のタスクを編集できる
- **動作**：
  - 編集ボタンをクリックすると、カードがインライン編集モードになる
  - タイトルと説明がinput/textareaに変わる
  - 優先度とカテゴリがselectボックスになる
  - 締切日がdate inputになる
  - 「保存」「キャンセル」ボタンが表示される
  - 保存すると、変更が反映されて通常モードに戻る
  - キャンセルすると、変更が破棄されて通常モードに戻る

#### F-102：フィルター機能

- **説明**：タスクを条件で絞り込める
- **フィルター種類**：
  - ステータスフィルター：すべて / 未完了 / 完了
  - カテゴリフィルター：すべて / 仕事 / プライベート / 買い物
- **動作**：
  - フィルターボタンをクリックすると、該当するタスクのみ表示される
  - 複数のフィルターを同時適用可能（ステータス AND カテゴリ）
  - 選択中のフィルターはハイライト表示される

#### F-103：ソート機能

- **説明**：タスクを並び替えられる
- **ソート種類**：
  - 作成日順（新しい順 / 古い順）
  - 優先度順（高→低 / 低→高）
  - 締切日順（近い順 / 遠い順）
- **動作**：
  - selectボックスでソート条件を選択
  - 選択した条件でタスクが並び替わる

#### F-104：検索機能

- **説明**：タスクをキーワードで検索できる
- **検索対象**：
  - タスクタイトル
  - タスクの説明
- **動作**：
  - 検索ボックスに入力すると、リアルタイムで絞り込まれる
  - 検索結果が0件の場合、「該当するタスクがありません」と表示

#### F-105：データの永続化

- **説明**：LocalStorageでデータを保存する
- **動作**：
  - タスクの追加・編集・削除・完了切替のたびにLocalStorageに保存
  - ページ読み込み時にLocalStorageからデータを復元
  - LocalStorageのキー名：`card-todo-tasks`

---

### オプション機能（Nice to Have）

余裕があれば実装したい機能（Phase 6では実装しない）

#### F-201：ダークモード

- ライト/ダークモードの切り替え
- システム設定に合わせた自動切り替え

#### F-202：タグ機能

- タスクに複数のタグを付けられる
- タグで検索・フィルターできる

#### F-203：サブタスク

- タスクの下に小タスクを作れる
- サブタスクの進捗を親タスクに反映

#### F-204：データのエクスポート/インポート

- JSON形式でデータを書き出せる
- JSON形式でデータを読み込める

#### F-205：ドラッグ&ドロップ

- タスクカードをドラッグ&ドロップで並び替えられる

---

## 非機能要件

### パフォーマンス

- ページ読み込み時間：3秒以内
- タスク追加・削除などの操作：即座に反映（1秒以内）

### ユーザビリティ

- 直感的に操作できるUI
- モバイルでも使いやすいレスポンシブデザイン
- エラーメッセージは分かりやすく表示

### ブラウザ対応

- Chrome（最新版）
- Firefox（最新版）
- Safari（最新版）
- Edge（最新版）

### アクセシビリティ

- キーボードで全ての操作ができる
- スクリーンリーダーに対応（ARIA属性）
- 適切なコントラスト比

---

## データ構造（概要）

### タスクオブジェクト

```javascript
{
  id: number,                    // 一意のID（タイムスタンプ）
  title: string,                 // タスクタイトル
  description: string,           // タスクの説明
  priority: 'high' | 'medium' | 'low',  // 優先度
  category: 'work' | 'personal' | 'shopping',  // カテゴリ
  dueDate: string | null,        // 締切日（YYYY-MM-DD形式、または null）
  completed: boolean,            // 完了フラグ
  createdAt: string              // 作成日時（ISO 8601形式）
}
```

### タスク配列

```javascript
const tasks = [
  {
    id: 1638360000000,
    title: "Phase 6の教材を完成させる",
    description: "Lesson 1-8とfinal-projectを作成",
    priority: "high",
    category: "work",
    dueDate: "2025-12-15",
    completed: false,
    createdAt: "2025-12-01T10:00:00.000Z"
  },
  // ...他のタスク
];
```

---

## 実装の優先順位

Phase 6では、以下の順序で段階的に実装していく：

### Phase 1（Lesson 4）：基本機能

1. タスクの追加（F-001）
2. タスクの一覧表示（F-002）
3. タスクの完了切替（F-003）
4. タスクの削除（F-004）
5. 統計表示（F-005）

**目標**：最小限の機能でTODOアプリとして動作する

### Phase 2（Lesson 5）：拡張機能

6. タスクの編集（F-101）
7. フィルター機能（F-102）
8. ソート機能（F-103）
9. 検索機能（F-104）

**目標**：実用的な機能を追加して使いやすくする

### Phase 3（Lesson 6）：永続化と改善

10. データの永続化（F-105）
11. ローディング表示
12. エラーハンドリング
13. アニメーション
14. トースト通知

**目標**：実用レベルに仕上げる

### Phase 4（Lesson 7）：リファクタリング

15. コードの整理
16. パフォーマンス最適化
17. アクセシビリティ改善
18. ブラウザ互換性確認

**目標**：コードの品質を高める

---

## 成功基準

以下の基準を満たせば、このプロジェクトは成功！

- [ ] 必須機能（F-001 〜 F-005）がすべて動作する
- [ ] 拡張機能（F-101 〜 F-105）が実装されている
- [ ] LocalStorageでデータが永続化されている
- [ ] モバイル・タブレット・デスクトップで適切に表示される
- [ ] エラーが適切にハンドリングされている
- [ ] コードが1000-1500行程度でまとまっている
- [ ] 実際に自分で使いたいと思えるレベルになっている

---

## リスクと対策

### リスク1：機能が多すぎて実装が終わらない

**対策**：

- 必須機能だけでまず動かす
- 拡張機能は動いてから追加する
- 1つずつ確実に実装する

### リスク2：LocalStorageの扱いでエラーが出る

**対策**：

- try-catchでエラーをキャッチする
- JSON.parseが失敗したら空配列で初期化
- Lesson 6で丁寧に実装方法を学ぶ

### リスク3：レスポンシブデザインが難しい

**対策**：

- Tailwind CSSのレスポンシブクラスを活用
- モバイルファーストで実装
- AIに相談しながら進める

---

## まとめ

この要件定義書では、以下を明確にしたよ：

✅ **何を作るか**：カード形式のTODOアプリ
✅ **誰が使うか**：自分自身
✅ **どんな問題を解決するか**：タスク管理、優先度の可視化
✅ **必須機能と拡張機能**：必須5個、拡張5個
✅ **実装の優先順位**：Phase 1-4で段階的に
✅ **成功基準**：実用レベルのアプリ

次は Lesson 2 で、この要件を基に技術仕様書を作成していくよ！

---

**作成者ノート**：

この要件定義書は、AIと対話しながら以下のように作成しました：

1. 最初のアイデア：「中規模のTODOアプリを作りたい」
2. AIとのブレインストーミング：機能の提案をもらう
3. 機能の整理：必須 vs 拡張に分類
4. 優先順位付け：重要度と難易度で評価
5. 要件定義書にまとめる：この文書

**所要時間**：約2時間（AIとの対話を含む）

このプロセスを参考に、あなたも自分のプロジェクトの要件定義を進めてみてね！
