<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ¼”ç¿’ 5-2: åˆ†å‰²ä»£å…¥ã®ç·´ç¿’</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      h1 {
        text-align: center;
        color: white;
        margin-bottom: 10px;
        font-size: 2.5em;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .subtitle {
        text-align: center;
        color: rgba(255, 255, 255, 0.9);
        margin-bottom: 30px;
        font-size: 1.1em;
      }

      .demo-section {
        background: white;
        border-radius: 15px;
        padding: 30px;
        margin-bottom: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      }

      .demo-section h2 {
        color: #f5576c;
        margin-bottom: 20px;
        font-size: 1.8em;
        border-bottom: 3px solid #f5576c;
        padding-bottom: 10px;
      }

      .demo-box {
        background: #f8f9fa;
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 20px;
        border-left: 5px solid #f5576c;
      }

      .demo-box h3 {
        color: #495057;
        margin-bottom: 15px;
        font-size: 1.3em;
      }

      .code-display {
        background: #2d3748;
        color: #f093fb;
        padding: 15px;
        border-radius: 8px;
        margin: 10px 0;
        font-family: 'Courier New', monospace;
        overflow-x: auto;
        white-space: pre-wrap;
        word-wrap: break-word;
      }

      .result-display {
        background: #fff0f6;
        border: 2px solid #ffadd2;
        border-radius: 8px;
        padding: 15px;
        margin: 10px 0;
      }

      .result-display h4 {
        color: #c41d7f;
        margin-bottom: 10px;
      }

      .result-item {
        background: white;
        padding: 10px;
        margin: 5px 0;
        border-radius: 5px;
        border-left: 3px solid #f5576c;
      }

      button {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        border: none;
        padding: 12px 30px;
        font-size: 1em;
        border-radius: 25px;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
        box-shadow: 0 4px 15px rgba(245, 87, 108, 0.4);
      }

      button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(245, 87, 108, 0.6);
      }

      button:active {
        transform: translateY(0);
      }

      .variable-box {
        display: inline-block;
        background: #f5576c;
        color: white;
        padding: 8px 15px;
        border-radius: 8px;
        margin: 5px;
        font-family: 'Courier New', monospace;
        font-weight: bold;
      }

      .arrow {
        font-size: 1.5em;
        color: #f5576c;
        font-weight: bold;
      }

      .grid-2 {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
        margin: 15px 0;
      }

      .highlight-box {
        background: linear-gradient(135deg, #f093fb15 0%, #f5576c15 100%);
        border: 2px solid #f5576c;
        padding: 15px;
        border-radius: 8px;
        margin: 10px 0;
      }

      @media (max-width: 768px) {
        .grid-2 {
          grid-template-columns: 1fr;
        }

        h1 {
          font-size: 2em;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸ“¦ åˆ†å‰²ä»£å…¥ã®ç·´ç¿’</h1>
      <p class="subtitle">ãƒ‡ãƒ¼ã‚¿ã®å–ã‚Šå‡ºã—ãŒè¶…ç°¡å˜ã«ãªã‚‹é­”æ³•ã®è¨˜æ³•ï¼</p>

      <!-- é…åˆ—ã®åˆ†å‰²ä»£å…¥ -->
      <div class="demo-section">
        <h2>1. é…åˆ—ã®åˆ†å‰²ä»£å…¥</h2>
        <div class="demo-box">
          <h3>ğŸ¨ é…åˆ—ã‹ã‚‰å€¤ã‚’å–ã‚Šå‡ºãã†</h3>
          <button onclick="demoArrayDestructuring()">å®Ÿè¡Œã™ã‚‹</button>
          <div id="arrayResult"></div>
        </div>
      </div>

      <!-- ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åˆ†å‰²ä»£å…¥ -->
      <div class="demo-section">
        <h2>2. ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åˆ†å‰²ä»£å…¥</h2>
        <div class="demo-box">
          <h3>ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‹ã‚‰å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’å–ã‚Šå‡ºã™</h3>
          <button onclick="demoObjectDestructuring()">å®Ÿè¡Œã™ã‚‹</button>
          <div id="objectResult"></div>
        </div>
      </div>

      <!-- å¤‰æ•°åã®å¤‰æ›´ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ -->
      <div class="demo-section">
        <h2>3. å¤‰æ•°åã®å¤‰æ›´ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤</h2>
        <div class="demo-box">
          <h3>ğŸ”§ é«˜åº¦ãªåˆ†å‰²ä»£å…¥ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯</h3>
          <button onclick="demoAdvancedDestructuring()">å®Ÿè¡Œã™ã‚‹</button>
          <div id="advancedResult"></div>
        </div>
      </div>

      <!-- ãƒã‚¹ãƒˆã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åˆ†å‰²ä»£å…¥ -->
      <div class="demo-section">
        <h2>4. ãƒã‚¹ãƒˆã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åˆ†å‰²ä»£å…¥</h2>
        <div class="demo-box">
          <h3>ğŸª† æ·±ã„éšå±¤ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–ã‚Šå‡ºã™</h3>
          <button onclick="demoNestedDestructuring()">å®Ÿè¡Œã™ã‚‹</button>
          <div id="nestedResult"></div>
        </div>
      </div>

      <!-- é–¢æ•°ã®å¼•æ•°ã§åˆ†å‰²ä»£å…¥ -->
      <div class="demo-section">
        <h2>5. é–¢æ•°ã®å¼•æ•°ã§åˆ†å‰²ä»£å…¥</h2>
        <div class="demo-box">
          <h3>âš¡ é–¢æ•°ã‚’ã‚ˆã‚Šç°¡æ½”ã«æ›¸ã</h3>
          <button onclick="demoFunctionDestructuring()">å®Ÿè¡Œã™ã‚‹</button>
          <div id="functionResult"></div>
        </div>
      </div>

      <!-- ã™ã¹ã¦å®Ÿè¡Œ -->
      <div class="demo-section">
        <div style="text-align: center">
          <button
            onclick="runAll()"
            style="font-size: 1.2em; padding: 15px 40px"
          >
            ğŸš€ ã™ã¹ã¦ã®ãƒ‡ãƒ¢ã‚’å®Ÿè¡Œ
          </button>
        </div>
      </div>
    </div>

    <script>
      // çµæœè¡¨ç¤ºç”¨ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
      function displayResult(elementId, content) {
        document.getElementById(elementId).innerHTML = content;
      }

      function showCodeAndResult(elementId, code, result) {
        const html = `
          <div class="code-display">${code}</div>
          <div class="result-display">
            <h4>ğŸ“Š å®Ÿè¡Œçµæœ</h4>
            ${result}
          </div>
        `;
        displayResult(elementId, html);
      }

      // 1. é…åˆ—ã®åˆ†å‰²ä»£å…¥
      function demoArrayDestructuring() {
        console.log('=== é…åˆ—ã®åˆ†å‰²ä»£å…¥ ===');

        // åŸºæœ¬çš„ãªåˆ†å‰²ä»£å…¥
        const colors = ['èµ¤', 'é’', 'ç·‘', 'é»„', 'ç´«'];
        const [first, second, third] = colors;

        console.log('first:', first);
        console.log('second:', second);
        console.log('third:', third);

        // ä¸€éƒ¨ã‚’ã‚¹ã‚­ãƒƒãƒ—
        const [, , thirdColor] = colors;
        console.log('thirdColor:', thirdColor);

        // æ®‹ã‚Šã‚’ã¾ã¨ã‚ã¦å–å¾—
        const [primary, secondary, ...rest] = colors;
        console.log('primary:', primary);
        console.log('secondary:', secondary);
        console.log('rest:', rest);

        // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤
        const [a, b, c, d, e, f = 'ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ'] = colors;
        console.log('f:', f);

        // å€¤ã®äº¤æ›ï¼ˆã‚¹ãƒ¯ãƒƒãƒ—ï¼‰
        let x = 1;
        let y = 2;
        console.log('äº¤æ›å‰:', { x, y });
        [x, y] = [y, x];
        console.log('äº¤æ›å¾Œ:', { x, y });

        const code = `const colors = ['èµ¤', 'é’', 'ç·‘', 'é»„', 'ç´«'];

// åŸºæœ¬çš„ãªåˆ†å‰²ä»£å…¥
const [first, second, third] = colors;
// first = 'èµ¤', second = 'é’', third = 'ç·‘'

// ä¸€éƒ¨ã‚’ã‚¹ã‚­ãƒƒãƒ—
const [, , thirdColor] = colors;
// thirdColor = 'ç·‘'

// æ®‹ã‚Šã‚’ã¾ã¨ã‚ã¦å–å¾—ï¼ˆ...restï¼‰
const [primary, secondary, ...rest] = colors;
// primary = 'èµ¤', secondary = 'é’'
// rest = ['ç·‘', 'é»„', 'ç´«']

// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤
const [a, b, c, d, e, f = 'ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ'] = colors;
// f = 'ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ'ï¼ˆé…åˆ—ã«6ç•ªç›®ã®è¦ç´ ãŒãªã„ã‹ã‚‰ï¼‰

// å€¤ã®äº¤æ›ï¼ˆã‚¹ãƒ¯ãƒƒãƒ—ï¼‰
let x = 1, y = 2;
[x, y] = [y, x];
// x = 2, y = 1`;

        const result = `
          <div class="highlight-box">
            <strong>ğŸ¨ å…ƒã®é…åˆ—:</strong><br>
            ${colors.map((c) => `<span class="variable-box">${c}</span>`).join('')}
          </div>

          <div class="result-item">
            <strong>åŸºæœ¬çš„ãªåˆ†å‰²ä»£å…¥:</strong><br>
            <div style="margin-top: 10px;">
              <span class="variable-box">first = "${first}"</span>
              <span class="variable-box">second = "${second}"</span>
              <span class="variable-box">third = "${third}"</span>
            </div>
          </div>

          <div class="result-item">
            <strong>ã‚¹ã‚­ãƒƒãƒ—:</strong><br>
            <div style="margin-top: 10px;">
              <span class="variable-box">thirdColor = "${thirdColor}"</span>
              <small>ï¼ˆæœ€åˆã®2ã¤ã‚’ã‚¹ã‚­ãƒƒãƒ—ï¼‰</small>
            </div>
          </div>

          <div class="result-item">
            <strong>æ®‹ã‚Šã‚’ã¾ã¨ã‚ã¦å–å¾—:</strong><br>
            <div style="margin-top: 10px;">
              <span class="variable-box">primary = "${primary}"</span>
              <span class="variable-box">secondary = "${secondary}"</span>
              <span class="variable-box">rest = ${JSON.stringify(rest)}</span>
            </div>
          </div>

          <div class="result-item">
            <strong>å€¤ã®äº¤æ›ï¼ˆã‚¹ãƒ¯ãƒƒãƒ—ï¼‰:</strong><br>
            <div style="margin-top: 10px;">
              äº¤æ›å‰: x = 1, y = 2<br>
              äº¤æ›å¾Œ: <span class="variable-box">x = 2</span> <span class="variable-box">y = 1</span>
            </div>
          </div>

          <div class="result-item">
            <strong>ğŸ’¡ ãƒã‚¤ãƒ³ãƒˆ:</strong> é…åˆ—ã®é †ç•ªã§å€¤ãŒä»£å…¥ã•ã‚Œã‚‹
          </div>
        `;

        showCodeAndResult('arrayResult', code, result);
      }

      // 2. ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åˆ†å‰²ä»£å…¥
      function demoObjectDestructuring() {
        console.log('=== ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åˆ†å‰²ä»£å…¥ ===');

        const user = {
          id: 1,
          name: 'å¤ªéƒ',
          age: 25,
          city: 'æ±äº¬',
          email: 'taro@example.com',
        };

        console.log('å…ƒã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ:', user);

        // åŸºæœ¬çš„ãªåˆ†å‰²ä»£å…¥
        const { name, age, city } = user;
        console.log('name:', name);
        console.log('age:', age);
        console.log('city:', city);

        // é †ç•ªã¯é–¢ä¿‚ãªã„
        const { email, id } = user;
        console.log('email:', email);
        console.log('id:', id);

        const code = `const user = {
  id: 1,
  name: 'å¤ªéƒ',
  age: 25,
  city: 'æ±äº¬',
  email: 'taro@example.com'
};

// åŸºæœ¬çš„ãªåˆ†å‰²ä»£å…¥
const { name, age, city } = user;

// é †ç•ªã¯é–¢ä¿‚ãªã„ï¼ˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã§è­˜åˆ¥ï¼‰
const { email, id } = user;

// ğŸ”´ æ˜”ã®æ›¸ãæ–¹
const name = user.name;
const age = user.age;
const city = user.city;`;

        const result = `
          <div class="highlight-box">
            <strong>ğŸ‘¤ å…ƒã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ:</strong><br>
            ${Object.entries(user)
              .map(([key, value]) => `<div>${key}: ${value}</div>`)
              .join('')}
          </div>

          <div class="result-item">
            <strong>åˆ†å‰²ä»£å…¥ã§å–ã‚Šå‡ºã—ãŸå€¤:</strong><br>
            <div class="grid-2">
              <div><span class="variable-box">name = "${name}"</span></div>
              <div><span class="variable-box">age = ${age}</span></div>
              <div><span class="variable-box">city = "${city}"</span></div>
              <div><span class="variable-box">email = "${email}"</span></div>
            </div>
          </div>

          <div class="result-item">
            <strong>âœ… ãƒ¡ãƒªãƒƒãƒˆ:</strong>
            <ul style="margin-top: 10px; padding-left: 20px;">
              <li>ã‚³ãƒ¼ãƒ‰ãŒçŸ­ããªã‚‹</li>
              <li>å¿…è¦ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã ã‘å–ã‚Šå‡ºã›ã‚‹</li>
              <li>é †ç•ªã¯é–¢ä¿‚ãªã„ï¼ˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã§è­˜åˆ¥ï¼‰</li>
            </ul>
          </div>
        `;

        showCodeAndResult('objectResult', code, result);
      }

      // 3. å¤‰æ•°åã®å¤‰æ›´ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤
      function demoAdvancedDestructuring() {
        console.log('=== å¤‰æ•°åã®å¤‰æ›´ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ ===');

        const user = {
          name: 'å¤ªéƒ',
          age: 25,
          // cityãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒãªã„
        };

        // å¤‰æ•°åã‚’å¤‰æ›´
        const { name: userName, age: userAge } = user;
        console.log('userName:', userName);
        console.log('userAge:', userAge);

        // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®š
        const { name, age, city = 'æœªç™»éŒ²' } = user;
        console.log('city:', city);

        // å¤‰æ•°åã®å¤‰æ›´ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’åŒæ™‚ã«ä½¿ã†
        const { name: fullName = 'ã‚²ã‚¹ãƒˆ', email: userEmail = 'æœªç™»éŒ²' } =
          user;
        console.log('fullName:', fullName);
        console.log('userEmail:', userEmail);

        const code = `const user = {
  name: 'å¤ªéƒ',
  age: 25
  // cityãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒãªã„
};

// å¤‰æ•°åã‚’å¤‰æ›´
const { name: userName, age: userAge } = user;
// userName = 'å¤ªéƒ', userAge = 25

// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®š
const { name, age, city = 'æœªç™»éŒ²' } = user;
// city = 'æœªç™»éŒ²'ï¼ˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒãªã„ã‹ã‚‰ï¼‰

// å¤‰æ•°åã®å¤‰æ›´ + ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤
const {
  name: fullName = 'ã‚²ã‚¹ãƒˆ',
  email: userEmail = 'æœªç™»éŒ²'
} = user;
// fullName = 'å¤ªéƒ', userEmail = 'æœªç™»éŒ²'`;

        const result = `
          <div class="result-item">
            <strong>å¤‰æ•°åã®å¤‰æ›´:</strong><br>
            <div style="margin-top: 10px;">
              <code>{ name: userName }</code>
              <span class="arrow">â†’</span>
              <span class="variable-box">userName = "${userName}"</span>
            </div>
            <small>nameã¨ã„ã†å¤‰æ•°ã¯ä½œã‚‰ã‚Œãšã€userNameãŒä½œã‚‰ã‚Œã‚‹</small>
          </div>

          <div class="result-item">
            <strong>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤:</strong><br>
            <div style="margin-top: 10px;">
              <code>{ city = 'æœªç™»éŒ²' }</code>
              <span class="arrow">â†’</span>
              <span class="variable-box">city = "${city}"</span>
            </div>
            <small>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒãªã„å ´åˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãŒä½¿ã‚ã‚Œã‚‹</small>
          </div>

          <div class="result-item">
            <strong>çµ„ã¿åˆã‚ã›:</strong><br>
            <div style="margin-top: 10px;">
              <span class="variable-box">fullName = "${fullName}"</span>
              <span class="variable-box">userEmail = "${userEmail}"</span>
            </div>
            <small>å¤‰æ•°åã®å¤‰æ›´ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’åŒæ™‚ã«ä½¿ãˆã‚‹</small>
          </div>

          <div class="result-item">
            <strong>ğŸ’¡ ä½¿ã„ã©ã“ã‚:</strong> APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã§ä¸€éƒ¨ã®ãƒ‡ãƒ¼ã‚¿ãŒãªã„å ´åˆ
          </div>
        `;

        showCodeAndResult('advancedResult', code, result);
      }

      // 4. ãƒã‚¹ãƒˆã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åˆ†å‰²ä»£å…¥
      function demoNestedDestructuring() {
        console.log('=== ãƒã‚¹ãƒˆã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åˆ†å‰²ä»£å…¥ ===');

        const user = {
          id: 1,
          name: 'å¤ªéƒ',
          address: {
            city: 'æ±äº¬',
            zipCode: '123-4567',
            country: 'æ—¥æœ¬',
          },
          contact: {
            email: 'taro@example.com',
            phone: '090-1234-5678',
          },
        };

        console.log('å…ƒã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ:', user);

        // ãƒã‚¹ãƒˆã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰å€¤ã‚’å–ã‚Šå‡ºã™
        const {
          name,
          address: { city, zipCode },
          contact: { email },
        } = user;

        console.log('name:', name);
        console.log('city:', city);
        console.log('zipCode:', zipCode);
        console.log('email:', email);

        const code = `const user = {
  id: 1,
  name: 'å¤ªéƒ',
  address: {
    city: 'æ±äº¬',
    zipCode: '123-4567',
    country: 'æ—¥æœ¬'
  },
  contact: {
    email: 'taro@example.com',
    phone: '090-1234-5678'
  }
};

// ãƒã‚¹ãƒˆã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰å€¤ã‚’å–ã‚Šå‡ºã™
const {
  name,
  address: { city, zipCode },
  contact: { email }
} = user;

// ğŸ”´ æ˜”ã®æ›¸ãæ–¹
const city = user.address.city;
const zipCode = user.address.zipCode;
const email = user.contact.email;`;

        const result = `
          <div class="highlight-box">
            <strong>ğŸª† ãƒã‚¹ãƒˆã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ:</strong>
            <pre style="margin-top: 10px;">${JSON.stringify(user, null, 2)}</pre>
          </div>

          <div class="result-item">
            <strong>å–ã‚Šå‡ºã—ãŸå€¤:</strong><br>
            <div style="margin-top: 10px;">
              <span class="variable-box">name = "${name}"</span><br>
              <span class="variable-box">city = "${city}"</span>
              <small>ï¼ˆaddress.cityï¼‰</small><br>
              <span class="variable-box">zipCode = "${zipCode}"</span>
              <small>ï¼ˆaddress.zipCodeï¼‰</small><br>
              <span class="variable-box">email = "${email}"</span>
              <small>ï¼ˆcontact.emailï¼‰</small>
            </div>
          </div>

          <div class="result-item">
            <strong>âš ï¸ æ³¨æ„:</strong><br>
            <code>address: { city }</code> ã¨æ›¸ãã¨ã€<strong>addresså¤‰æ•°ã¯ä½œã‚‰ã‚Œãªã„</strong><br>
            addressã‚‚å¤‰æ•°ã¨ã—ã¦ä½¿ã„ãŸã„å ´åˆã¯:<br>
            <code>const { address, address: { city } } = user;</code>
          </div>
        `;

        showCodeAndResult('nestedResult', code, result);
      }

      // 5. é–¢æ•°ã®å¼•æ•°ã§åˆ†å‰²ä»£å…¥
      function demoFunctionDestructuring() {
        console.log('=== é–¢æ•°ã®å¼•æ•°ã§åˆ†å‰²ä»£å…¥ ===');

        // æ˜”ã®æ›¸ãæ–¹
        function displayUserOld(user) {
          console.log(`åå‰: ${user.name}`);
          console.log(`å¹´é½¢: ${user.age}`);
          console.log(`éƒ½å¸‚: ${user.city}`);
        }

        // ãƒ¢ãƒ€ãƒ³ãªæ›¸ãæ–¹
        function displayUserModern({ name, age, city = 'æœªç™»éŒ²' }) {
          console.log(`åå‰: ${name}`);
          console.log(`å¹´é½¢: ${age}`);
          console.log(`éƒ½å¸‚: ${city}`);
        }

        const user1 = { name: 'å¤ªéƒ', age: 25, city: 'æ±äº¬' };
        const user2 = { name: 'èŠ±å­', age: 30 }; // cityãŒãªã„

        console.log('--- å¤ªéƒã•ã‚“ ---');
        displayUserModern(user1);

        console.log('--- èŠ±å­ã•ã‚“ ---');
        displayUserModern(user2);

        // å®Ÿéš›ã«é–¢æ•°ã‚’å®Ÿè¡Œã—ã¦çµæœã‚’å–å¾—
        const messages1 = [];
        const tempLog1 = console.log;
        console.log = (msg) => messages1.push(msg);
        displayUserModern(user1);
        console.log = tempLog1;

        const messages2 = [];
        const tempLog2 = console.log;
        console.log = (msg) => messages2.push(msg);
        displayUserModern(user2);
        console.log = tempLog2;

        const code = `// ğŸ”´ æ˜”ã®æ›¸ãæ–¹
function displayUser(user) {
  console.log(\`åå‰: \${user.name}\`);
  console.log(\`å¹´é½¢: \${user.age}\`);
  console.log(\`éƒ½å¸‚: \${user.city}\`);
}

// âœ… ãƒ¢ãƒ€ãƒ³ãªæ›¸ãæ–¹ï¼ˆå¼•æ•°ã§åˆ†å‰²ä»£å…¥ï¼‰
function displayUser({ name, age, city = 'æœªç™»éŒ²' }) {
  console.log(\`åå‰: \${name}\`);
  console.log(\`å¹´é½¢: \${age}\`);
  console.log(\`éƒ½å¸‚: \${city}\`);
}

// ä½¿ã„æ–¹
displayUser({ name: 'å¤ªéƒ', age: 25, city: 'æ±äº¬' });
displayUser({ name: 'èŠ±å­', age: 30 }); // cityãŒãªã„ â†’ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤`;

        const result = `
          <div class="result-item">
            <strong>ğŸ‘¤ å¤ªéƒã•ã‚“ï¼ˆã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚ã‚Šï¼‰:</strong><br>
            <div style="margin-top: 10px; padding: 10px; background: #f8f9fa; border-radius: 5px;">
              ${messages1.join('<br>')}
            </div>
          </div>

          <div class="result-item">
            <strong>ğŸ‘¤ èŠ±å­ã•ã‚“ï¼ˆcityãŒãªã„ï¼‰:</strong><br>
            <div style="margin-top: 10px; padding: 10px; background: #f8f9fa; border-radius: 5px;">
              ${messages2.join('<br>')}
            </div>
          </div>

          <div class="result-item">
            <strong>âœ… ãƒ¡ãƒªãƒƒãƒˆ:</strong>
            <ul style="margin-top: 10px; padding-left: 20px;">
              <li>é–¢æ•°ã®ä¸­ã§ <code>user.name</code> ã¨æ›¸ãå¿…è¦ãŒãªã„</li>
              <li>ã©ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ã†ã®ã‹ä¸€ç›®ç­ç„¶</li>
              <li>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚‚è¨­å®šã§ãã‚‹</li>
              <li>Reactãªã©ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã‚ˆãä½¿ã‚ã‚Œã‚‹</li>
            </ul>
          </div>

          <div class="result-item">
            <strong>ğŸ¯ å®Ÿç”¨ä¾‹:</strong>
            <code>function UserCard({ name, age, avatar }) { ... }</code>
          </div>
        `;

        showCodeAndResult('functionResult', code, result);
      }

      // ã™ã¹ã¦ã®ãƒ‡ãƒ¢ã‚’å®Ÿè¡Œ
      function runAll() {
        console.clear();
        console.log('ğŸš€ ã™ã¹ã¦ã®ãƒ‡ãƒ¢ã‚’å®Ÿè¡Œã—ã¾ã™ï¼');
        demoArrayDestructuring();
        demoObjectDestructuring();
        demoAdvancedDestructuring();
        demoNestedDestructuring();
        demoFunctionDestructuring();
        console.log('âœ… ã™ã¹ã¦ã®ãƒ‡ãƒ¢ãŒå®Œäº†ã—ã¾ã—ãŸï¼');
      }

      // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
      console.log('ğŸ“¦ åˆ†å‰²ä»£å…¥ã®ç·´ç¿’ã¸ã‚ˆã†ã“ãï¼');
      console.log('å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ãƒ‡ãƒ¢ã‚’å®Ÿè¡Œã—ã¦ã¿ã‚ˆã†ï¼');
    </script>
  </body>
</html>
