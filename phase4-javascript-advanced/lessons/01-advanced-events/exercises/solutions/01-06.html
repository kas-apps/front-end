<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å•é¡Œ 1-6: ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆã®å‡¦ç†</title>
  <style>
    /* ãƒšãƒ¼ã‚¸å…¨ä½“ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      max-width: 600px;
      margin: 50px auto;
      padding: 20px;
      background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%);
      min-height: 100vh;
    }

    /* ã‚³ãƒ³ãƒ†ãƒŠã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .container {
      background: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    /* è¦‹å‡ºã—ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    h1 {
      color: #333;
      text-align: center;
      margin-bottom: 10px;
    }

    .subtitle {
      text-align: center;
      color: #666;
      margin-bottom: 30px;
    }

    /* èª¬æ˜æ–‡ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .description {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      border-left: 4px solid #fbc2eb;
    }

    /* å…¥åŠ›ã‚¨ãƒªã‚¢ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .input-container {
      margin: 20px 0;
    }

    .input-label {
      font-weight: bold;
      margin-bottom: 10px;
      display: block;
      color: #333;
    }

    input[type="text"] {
      width: 100%;
      padding: 15px;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
      transition: border-color 0.3s;
      box-sizing: border-box;
    }

    input[type="text"]:focus {
      outline: none;
      border-color: #fbc2eb;
      box-shadow: 0 0 0 3px rgba(251, 194, 235, 0.2);
    }

    /* ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆä¸€è¦§ */
    .shortcuts {
      background: #e7f3ff;
      padding: 20px;
      border-radius: 8px;
      margin: 20px 0;
    }

    .shortcuts h3 {
      margin-top: 0;
      color: #0066cc;
    }

    .shortcuts ul {
      margin: 10px 0;
    }

    .shortcuts li {
      margin: 8px 0;
    }

    .key {
      background: #333;
      color: white;
      padding: 4px 8px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      font-size: 14px;
    }

    /* ãƒ­ã‚°ã‚¨ãƒªã‚¢ */
    .log-area {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
      max-height: 200px;
      overflow-y: auto;
    }

    .log-area h4 {
      margin-top: 0;
      color: #666;
    }

    .log-entry {
      padding: 8px;
      margin: 5px 0;
      border-radius: 4px;
      font-size: 14px;
      animation: slideIn 0.3s;
    }

    .log-enter {
      background: #d4edda;
      color: #155724;
    }

    .log-escape {
      background: #fff3cd;
      color: #856404;
    }

    .log-save {
      background: #cce5ff;
      color: #004085;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(-10px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    /* èª¬æ˜ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
    .explanation {
      background: #e7f3ff;
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
      border-left: 4px solid #0066cc;
    }

    .explanation h3 {
      margin-top: 0;
      color: #0066cc;
    }

    code {
      background: #f0f0f0;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>âŒ¨ï¸ ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆã®å‡¦ç†</h1>
    <p class="subtitle">ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼ã‚’å®Ÿè£…ã—ã‚ˆã†ï¼</p>

    <div class="description">
      <p><strong>ã“ã®æ¼”ç¿’ã§å­¦ã¶ã“ã¨ï¼š</strong></p>
      <ul>
        <li>ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆã§ä¾¿åˆ©ãªã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚’å®Ÿè£…</li>
        <li>event.key ã§æŠ¼ã•ã‚ŒãŸã‚­ãƒ¼ã‚’åˆ¤å®š</li>
        <li>event.ctrlKey, event.metaKey ã§ä¿®é£¾ã‚­ãƒ¼ã‚’åˆ¤å®š</li>
        <li>preventDefault ã§ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹•ä½œã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«</li>
      </ul>
    </div>

    <!-- å…¥åŠ›ã‚¨ãƒªã‚¢ -->
    <div class="input-container">
      <label class="input-label">ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ã€ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼ã‚’è©¦ã—ã¦ã¿ã‚ˆã†ï¼š</label>
      <input type="text" id="textInput" placeholder="ã“ã“ã«ä½•ã‹å…¥åŠ›ã—ã¦ã­...">
    </div>

    <!-- ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆä¸€è¦§ -->
    <div class="shortcuts">
      <h3>ğŸ“‹ ä½¿ãˆã‚‹ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ</h3>
      <ul>
        <li><span class="key">Enter</span> - å…¥åŠ›å†…å®¹ã‚’é€ä¿¡ï¼ˆã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤ºï¼‰</li>
        <li><span class="key">Escape</span> - å…¥åŠ›æ¬„ã‚’ã‚¯ãƒªã‚¢</li>
        <li><span class="key">Ctrl + S</span> ã¾ãŸã¯ <span class="key">âŒ˜ + S</span> - ä¿å­˜ï¼ˆã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤ºï¼‰</li>
      </ul>
    </div>

    <!-- ãƒ­ã‚°ã‚¨ãƒªã‚¢ -->
    <div class="log-area" id="logArea">
      <h4>ğŸ“ æ“ä½œãƒ­ã‚°</h4>
      <p style="color: #999; font-style: italic;">ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼ã‚’ä½¿ã†ã¨ã€ã“ã“ã«ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™</p>
    </div>

    <div class="explanation">
      <h3>ğŸ’¡ é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ</h3>
      <p>
        <strong>Ctrl+S (âŒ˜+S) ã® preventDefault</strong>ï¼š<br>
        ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹•ä½œï¼ˆä¿å­˜ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®è¡¨ç¤ºï¼‰ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ãªã„ã¨ã€
        ã‚«ã‚¹ã‚¿ãƒ ã®å‹•ä½œã¨ãƒ–ãƒ©ã‚¦ã‚¶ã®å‹•ä½œãŒä¸¡æ–¹å®Ÿè¡Œã•ã‚Œã¦ã—ã¾ã†ã‚ˆï¼
      </p>
      <p>
        <strong>Mac ã¨ Windows ã®é•ã„</strong>ï¼š<br>
        Windows/Linux ã¯ <code>Ctrl</code> ã‚­ãƒ¼ï¼ˆ<code>event.ctrlKey</code>ï¼‰<br>
        macOS ã¯ <code>âŒ˜</code> ã‚­ãƒ¼ï¼ˆ<code>event.metaKey</code>ï¼‰<br>
        ä¸¡æ–¹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã“ã¨ã§ã€ã©ã® OS ã§ã‚‚å‹•ä½œã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ã‚ˆï¼
      </p>
    </div>
  </div>

  <script>
    // è¦ç´ ã‚’å–å¾—
    const textInput = document.getElementById('textInput');
    const logArea = document.getElementById('logArea');

    // ãƒ­ã‚°ã‚’è¿½åŠ ã™ã‚‹é–¢æ•°
    function addLog(message, type) {
      // ã€Œãƒ­ã‚°ãŒã‚ã‚Šã¾ã›ã‚“ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‰Šé™¤
      const placeholder = logArea.querySelector('p[style]');
      if (placeholder) {
        placeholder.remove();
      }

      // æ–°ã—ã„ãƒ­ã‚°ã‚¨ãƒ³ãƒˆãƒªã‚’ä½œæˆ
      const logEntry = document.createElement('div');
      logEntry.className = `log-entry log-${type}`;
      logEntry.textContent = `${new Date().toLocaleTimeString()} - ${message}`;

      // ãƒ­ã‚°ã‚’è¿½åŠ ï¼ˆæœ€æ–°ã®ã‚‚ã®ã‚’ä¸Šã«ï¼‰
      logArea.insertBefore(logEntry, logArea.firstChild.nextSibling);

      // ãƒ­ã‚°ãŒå¤šããªã‚Šã™ããŸã‚‰å¤ã„ã‚‚ã®ã‚’å‰Šé™¤
      const logs = logArea.querySelectorAll('.log-entry');
      if (logs.length > 10) {
        logs[logs.length - 1].remove();
      }
    }

    // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒªã‚¹ãƒŠãƒ¼
    textInput.addEventListener('keydown', (event) => {
      // ãƒ‡ãƒãƒƒã‚°ç”¨ï¼šæŠ¼ã•ã‚ŒãŸã‚­ãƒ¼ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è¡¨ç¤º
      console.log('æŠ¼ã•ã‚ŒãŸã‚­ãƒ¼:', event.key);
      console.log('Ctrl:', event.ctrlKey, 'Meta:', event.metaKey);

      // 1. Enterã‚­ãƒ¼ã§é€ä¿¡
      if (event.key === 'Enter') {
        const value = textInput.value.trim();

        if (value === '') {
          alert('ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
          addLog('âš ï¸ ç©ºæ¬„ã§é€ä¿¡ã—ã‚ˆã†ã¨ã—ã¾ã—ãŸ', 'escape');
        } else {
          alert(`é€ä¿¡ã•ã‚Œã¾ã—ãŸ: "${value}"`);
          addLog(`ğŸ“¤ é€ä¿¡: "${value}"`, 'enter');
        }
      }

      // 2. Escapeã‚­ãƒ¼ã§å…¥åŠ›æ¬„ã‚’ã‚¯ãƒªã‚¢
      if (event.key === 'Escape') {
        const oldValue = textInput.value;
        textInput.value = '';
        addLog(`ğŸ§¹ å…¥åŠ›æ¬„ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸï¼ˆå…ƒã®å†…å®¹: "${oldValue}"ï¼‰`, 'escape');
        console.log('å…¥åŠ›æ¬„ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ');
      }

      // 3. Ctrl+S (ã¾ãŸã¯ Cmd+S) ã§ä¿å­˜
      // Windows/Linuxã§ã¯ event.ctrlKeyã€macOSã§ã¯ event.metaKey ã‚’ä½¿ç”¨
      if ((event.ctrlKey || event.metaKey) && event.key === 's') {
        // ã€è¶…é‡è¦ï¼ã€‘ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹•ä½œï¼ˆä¿å­˜ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ï¼‰ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«
        event.preventDefault();

        const value = textInput.value.trim();

        if (value === '') {
          alert('ä¿å­˜ã™ã‚‹å†…å®¹ãŒã‚ã‚Šã¾ã›ã‚“');
          addLog('âš ï¸ ç©ºæ¬„ã§ä¿å­˜ã—ã‚ˆã†ã¨ã—ã¾ã—ãŸ', 'escape');
        } else {
          alert(`ä¿å­˜ã•ã‚Œã¾ã—ãŸ: "${value}"`);
          addLog(`ğŸ’¾ ä¿å­˜: "${value}"`, 'save');
        }

        console.log('ä¿å­˜å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã—ãŸ');
        console.log('preventDefault() ã§ãƒ–ãƒ©ã‚¦ã‚¶ã®ä¿å­˜ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ã¾ã—ãŸ');
      }
    });

    // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    console.log('âœ… ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ãŒè¨­å®šã•ã‚Œã¾ã—ãŸï¼');
    console.log('ğŸ’¡ å…¥åŠ›æ¬„ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ã¦ã€ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼ã‚’è©¦ã—ã¦ã¿ã¦ã­ï¼');
    console.log('');
    console.log('ã€ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆä¸€è¦§ã€‘');
    console.log('- Enter: é€ä¿¡');
    console.log('- Escape: ã‚¯ãƒªã‚¢');
    console.log('- Ctrl+S (âŒ˜+S): ä¿å­˜');
    console.log('');
    console.log('ã€é‡è¦ã€‘Ctrl+S ã‚’æŠ¼ã—ãŸã¨ãã«ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®ä¿å­˜ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œãªã„ã“ã¨ã‚’ç¢ºèªã—ã¦ã­ï¼');
  </script>
</body>
</html>
