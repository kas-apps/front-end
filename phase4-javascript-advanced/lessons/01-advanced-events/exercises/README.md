# Lesson 1: 高度なイベント処理 - 演習問題 🎯

このレッスンで学んだ高度なイベント処理を実践しよう！

---

## 基礎編

### 問題 1-1: イベントオブジェクトの活用

**課題**：
ボタンをクリックした時に、以下の情報を console.log で表示するプログラムを作成してください。

- イベントのタイプ
- クリックされた要素（event.target）
- マウスの X 座標
- マウスの Y 座標

**ヒント**：

- `event.type`
- `event.target`
- `event.clientX`
- `event.clientY`

---

### 問題 1-2: preventDefault の使用

**課題**：
リンク（`<a>` タグ）をクリックしても、ページ遷移しないようにしてください。代わりに、「リンクがクリックされましたが、遷移はキャンセルされました」とアラート表示してください。

**ヒント**：

- `event.preventDefault()`
- `alert()`

---

### 問題 1-3: イベント伝播の確認

**課題**：
3 階層の要素（祖父、親、子）を作成し、それぞれをクリックした時に「〇〇要素がクリックされました」と console.log で表示してください。子要素をクリックした時、どのような順序でイベントが発火するか確認してください。

**ヒント**：

- 3 つの `<div>` を入れ子にする
- それぞれに `addEventListener` を設定
- console.log で確認

---

## 応用編

### 問題 1-4: イベント委譲でリスト管理

**課題**：
TODO リストを作成してください。以下の機能を実装してください。

- 入力欄と「追加」ボタンでタスクを追加
- 各タスクに「削除」ボタンを付ける
- **イベント委譲**を使って、親要素（`<ul>`）にイベントリスナーを 1 つだけ設定する
- 「削除」ボタンをクリックすると、そのタスクが削除される

**ヒント**：

- `event.target.classList.contains('delete')` で削除ボタンを判定
- `event.target.parentElement.remove()` でタスクを削除

---

### 問題 1-5: stopPropagation の使用

**課題**：
親要素と子要素（ボタン）を作成してください。

- 親要素をクリックすると「親がクリックされました」と表示
- 子要素（ボタン）をクリックすると「子がクリックされました」と表示
- **ボタンをクリックした時、親のイベントは発火しないようにする**（stopPropagation を使う）

**ヒント**：

- `event.stopPropagation()`

---

### 問題 1-6: キーボードイベントの処理（AI への指示例付き）

**課題**：
入力欄に文字を入力している時、以下の機能を実装してください。

- Enter キーを押すと「送信されました」とアラート表示
- Escape キーを押すと入力欄をクリア
- Ctrl + S（または Cmd + S）を押すと「保存されました」とアラート表示

**AI への指示例**：

```
「input要素を作成し、キーボードイベントで以下の機能を実装してください：

1. Enterキーを押すと「送信されました」とアラート表示
2. Escapeキーを押すと入力欄をクリア（value = ''）
3. Ctrl+S（macOSではCmd+S）を押すと「保存されました」とアラート表示し、デフォルトの保存動作をキャンセル

event.key でキーを判定し、event.ctrlKey と event.metaKey で修飾キーを判定してください。
デフォルト動作のキャンセルには event.preventDefault() を使用してください。」
```

**ヒント**：

- `event.key` で押されたキーを判定
- `event.ctrlKey`、`event.metaKey` で修飾キーを判定
- Ctrl + S のデフォルト動作（保存ダイアログ）をキャンセル

---

## チャレンジ

### 問題 1-7: 高度な TODO リスト

**課題**：
本格的な TODO リストを作成してください。以下の機能を**すべて**実装してください。

1. **タスクの追加**：入力欄と「追加」ボタンでタスクを追加
2. **タスクの削除**：各タスクに「削除」ボタンを付ける
3. **完了/未完了の切り替え**：各タスクに「完了」ボタンを付け、クリックすると取り消し線が付く（もう一度クリックすると解除）
4. **イベント委譲**：親要素にイベントリスナーを 1 つだけ設定
5. **Enter キーで追加**：入力欄で Enter キーを押しても、タスクを追加できる
6. **空欄チェック**：空欄の場合は追加できないようにする
7. **タスク数の表示**：「全タスク数：X 件、完了：Y 件」と表示

**ヒント**：

- イベント委譲で「削除」と「完了」ボタンを判定
- `classList.toggle('completed')` で完了状態を切り替え
- Enter キーは `event.key === 'Enter'` で判定
- タスク数は `querySelectorAll` で取得

---

## 解答例

演習問題を解いたら、解答例と比較してみよう！

👉 [解答例を見る](solutions/README.md)

---

**Let's vibe and code!** 🎉

実際に手を動かして、高度なイベント処理をマスターしよう！
