<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å•é¡Œ1: ç°¡å˜ãªãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ </title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
      }

      .container {
        background: white;
        border-radius: 12px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        padding: 40px;
        max-width: 600px;
        width: 100%;
      }

      h1 {
        color: #333;
        margin-bottom: 10px;
        font-size: 28px;
      }

      .description {
        color: #666;
        margin-bottom: 30px;
        font-size: 14px;
      }

      .form-group {
        margin-bottom: 20px;
      }

      label {
        display: block;
        margin-bottom: 8px;
        color: #333;
        font-weight: 600;
        font-size: 14px;
      }

      input,
      textarea {
        width: 100%;
        padding: 12px;
        border: 2px solid #ddd;
        border-radius: 6px;
        font-size: 16px;
        font-family: inherit;
        transition: border-color 0.3s;
      }

      input:focus,
      textarea:focus {
        outline: none;
        border-color: #667eea;
      }

      textarea {
        resize: vertical;
        min-height: 120px;
      }

      button {
        width: 100%;
        padding: 14px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        border-radius: 6px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
      }

      button:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
      }

      button:active {
        transform: translateY(0);
      }

      /* çµæœè¡¨ç¤ºã‚¨ãƒªã‚¢ */
      #result {
        margin-top: 30px;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 6px;
        border-left: 4px solid #667eea;
        display: none;
      }

      #result.show {
        display: block;
      }

      #result h2 {
        color: #333;
        margin-bottom: 15px;
        font-size: 20px;
      }

      .result-item {
        margin-bottom: 12px;
        padding: 10px;
        background: white;
        border-radius: 4px;
      }

      .result-label {
        font-weight: 600;
        color: #667eea;
        margin-bottom: 4px;
      }

      .result-value {
        color: #333;
        line-height: 1.6;
      }

      /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
      @media (max-width: 600px) {
        .container {
          padding: 24px;
        }

        h1 {
          font-size: 24px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸ“ ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ </h1>
      <p class="description">
        å•é¡Œ1ã®è§£ç­”ä¾‹ï¼šFormData APIã‚’ä½¿ã£ã¦ãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã¨ãƒšãƒ¼ã‚¸ã«è¡¨ç¤ºã—ã¾ã™ã€‚
      </p>

      <form id="contactForm">
        <div class="form-group">
          <label for="name">ãŠåå‰</label>
          <input
            type="text"
            id="name"
            name="name"
            placeholder="å±±ç”°å¤ªéƒ"
            required
          />
        </div>

        <div class="form-group">
          <label for="email">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
          <input
            type="email"
            id="email"
            name="email"
            placeholder="taro@example.com"
            required
          />
        </div>

        <div class="form-group">
          <label for="message">ãŠå•ã„åˆã‚ã›å†…å®¹</label>
          <textarea
            id="message"
            name="message"
            placeholder="ãŠå•ã„åˆã‚ã›å†…å®¹ã‚’ã”è¨˜å…¥ãã ã•ã„"
            required
          ></textarea>
        </div>

        <button type="submit">é€ä¿¡ã™ã‚‹</button>
      </form>

      <!-- çµæœè¡¨ç¤ºã‚¨ãƒªã‚¢ -->
      <div id="result">
        <h2>ğŸ“¬ é€ä¿¡å†…å®¹</h2>
        <div id="resultContent"></div>
      </div>
    </div>

    <script>
      // ===== è¦ç´ ã‚’å–å¾— =====
      const form = document.getElementById("contactForm");
      const result = document.getElementById("result");
      const resultContent = document.getElementById("resultContent");

      // ===== ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã‚¤ãƒ™ãƒ³ãƒˆ =====
      form.addEventListener("submit", function (event) {
        // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®é€ä¿¡å‹•ä½œã‚’é˜²ãï¼ˆãƒšãƒ¼ã‚¸ãŒãƒªãƒ­ãƒ¼ãƒ‰ã•ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹ï¼‰
        event.preventDefault();

        console.log("=== ãƒ•ã‚©ãƒ¼ãƒ ãŒé€ä¿¡ã•ã‚Œã¾ã—ãŸ ===");

        // ===== æ–¹æ³•1: FormDataã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ =====
        const formData = new FormData(form);

        // ===== æ–¹æ³•2: å€‹åˆ¥ã«å€¤ã‚’å–å¾— =====
        const name = formData.get("name");
        const email = formData.get("email");
        const message = formData.get("message");

        // ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å€‹åˆ¥ã®å€¤ã‚’å‡ºåŠ›
        console.log("ãŠåå‰:", name);
        console.log("ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹:", email);
        console.log("ãŠå•ã„åˆã‚ã›å†…å®¹:", message);

        // ===== æ–¹æ³•3: å…¨ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ«ãƒ¼ãƒ—ã§å–å¾— =====
        console.log("\n=== å…¨ãƒ‡ãƒ¼ã‚¿ï¼ˆentriesï¼‰ ===");
        for (const [key, value] of formData.entries()) {
          console.log(`${key}: ${value}`);
        }

        // ===== æ–¹æ³•4: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›ï¼ˆä¾¿åˆ©ï¼ï¼‰ =====
        const data = Object.fromEntries(formData);
        console.log("\n=== ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå½¢å¼ ===");
        console.log(data);
        // â†’ { name: "å±±ç”°å¤ªéƒ", email: "taro@example.com", message: "..." }

        // ===== ãƒšãƒ¼ã‚¸ã«çµæœã‚’è¡¨ç¤º =====
        displayResult(name, email, message);
      });

      // ===== çµæœã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•° =====
      function displayResult(name, email, message) {
        // HTMLã‚’ç”Ÿæˆ
        const html = `
          <div class="result-item">
            <div class="result-label">ãŠåå‰</div>
            <div class="result-value">${escapeHtml(name)}</div>
          </div>
          <div class="result-item">
            <div class="result-label">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</div>
            <div class="result-value">${escapeHtml(email)}</div>
          </div>
          <div class="result-item">
            <div class="result-label">ãŠå•ã„åˆã‚ã›å†…å®¹</div>
            <div class="result-value">${escapeHtml(message)}</div>
          </div>
        `;

        // çµæœã‚¨ãƒªã‚¢ã«è¡¨ç¤º
        resultContent.innerHTML = html;
        result.classList.add("show");

        // ã‚¹ãƒ ãƒ¼ã‚ºã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
        result.scrollIntoView({ behavior: "smooth", block: "nearest" });

        console.log("\nâœ“ çµæœã‚’ãƒšãƒ¼ã‚¸ã«è¡¨ç¤ºã—ã¾ã—ãŸ");
      }

      // ===== HTMLã‚¨ã‚¹ã‚±ãƒ¼ãƒ—é–¢æ•°ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ï¼‰ =====
      // ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚’ãã®ã¾ã¾HTMLã«è¡¨ç¤ºã™ã‚‹ã¨ã€XSSæ”»æ’ƒã®ãƒªã‚¹ã‚¯ãŒã‚ã‚‹ãŸã‚
      function escapeHtml(text) {
        const div = document.createElement("div");
        div.textContent = text;
        return div.innerHTML;
      }

      // ===== ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ =====
      console.log("ğŸ“ ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ ãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ");
      console.log("ãƒ•ã‚©ãƒ¼ãƒ ã«å…¥åŠ›ã—ã¦ã€Œé€ä¿¡ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„");
      console.log("\nã€å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆã€‘");
      console.log("1. FormData APIã§ãƒ•ã‚©ãƒ¼ãƒ å…¨ä½“ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç°¡å˜ã«å–å¾—");
      console.log("2. event.preventDefault()ã§ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰ã‚’é˜²ã");
      console.log("3. ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã¨ãƒšãƒ¼ã‚¸ã®ä¸¡æ–¹ã«çµæœã‚’è¡¨ç¤º");
    </script>
  </body>
</html>
