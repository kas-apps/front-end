<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å•é¡Œ3: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¡¨ç¤º</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
      }

      .container {
        background: white;
        border-radius: 12px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        padding: 40px;
        max-width: 500px;
        width: 100%;
      }

      h1 {
        color: #333;
        margin-bottom: 10px;
        font-size: 28px;
      }

      .description {
        color: #666;
        margin-bottom: 30px;
        font-size: 14px;
        line-height: 1.6;
      }

      .form-group {
        margin-bottom: 24px;
      }

      label {
        display: block;
        margin-bottom: 8px;
        color: #333;
        font-weight: 600;
        font-size: 14px;
      }

      input {
        width: 100%;
        padding: 12px;
        border: 2px solid #ddd;
        border-radius: 6px;
        font-size: 16px;
        font-family: inherit;
        transition: all 0.3s;
      }

      input:focus {
        outline: none;
        border-color: #667eea;
      }

      /* ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ */
      input.error {
        border-color: #ff6b6b;
        background-color: #fff5f5;
      }

      /* ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
      .error-message {
        display: none;
        margin-top: 8px;
        padding: 10px;
        background-color: #ffe0e0;
        border-left: 4px solid #ff6b6b;
        border-radius: 4px;
        color: #c92a2a;
        font-size: 14px;
        animation: slideDown 0.3s ease-out;
      }

      .error-message.show {
        display: block;
      }

      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      button {
        width: 100%;
        padding: 14px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        border-radius: 6px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
        margin-top: 10px;
      }

      button:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
      }

      button:active {
        transform: translateY(0);
      }

      /* æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
      .success-message {
        display: none;
        margin-top: 24px;
        padding: 16px;
        background: #d4edda;
        border: 2px solid #c3e6cb;
        border-left: 4px solid #28a745;
        border-radius: 6px;
        color: #155724;
        animation: slideDown 0.3s ease-out;
      }

      .success-message.show {
        display: block;
      }

      .success-message h3 {
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
      @media (max-width: 600px) {
        .container {
          padding: 24px;
        }

        h1 {
          font-size: 24px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸ” ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ </h1>
      <p class="description">
        å•é¡Œ3ã®è§£ç­”ä¾‹ï¼šå…·ä½“çš„ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«åˆ†ã‹ã‚Šã‚„ã™ããƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã—ã¾ã™ã€‚
      </p>

      <form id="loginForm">
        <!-- ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ -->
        <div class="form-group">
          <label for="email">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
          <input
            type="text"
            id="email"
            name="email"
            placeholder="example@domain.com"
          />
          <div class="error-message" id="emailError"></div>
        </div>

        <!-- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ -->
        <div class="form-group">
          <label for="password">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
          <input
            type="password"
            id="password"
            name="password"
            placeholder="8æ–‡å­—ä»¥ä¸Šã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰"
          />
          <div class="error-message" id="passwordError"></div>
        </div>

        <button type="submit">ãƒ­ã‚°ã‚¤ãƒ³</button>
      </form>

      <!-- æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ -->
      <div class="success-message" id="successMessage">
        <h3>
          <span>ğŸ‰</span>
          <span>ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸï¼</span>
        </h3>
        <p>å…¨ã¦ã®å…¥åŠ›ãŒæ­£ã—ãæ¤œè¨¼ã•ã‚Œã¾ã—ãŸã€‚</p>
      </div>
    </div>

    <script>
      // ===== è¦ç´ ã‚’å–å¾— =====
      const form = document.getElementById("loginForm");
      const emailInput = document.getElementById("email");
      const passwordInput = document.getElementById("password");
      const successMessage = document.getElementById("successMessage");

      // ===== ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•° =====
      function showError(inputId, errorId, message) {
        const input = document.getElementById(inputId);
        const errorDiv = document.getElementById(errorId);

        // å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«errorã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ ï¼ˆèµ¤ã„æ ç·šï¼‰
        input.classList.add("error");

        // ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¨­å®šã—ã¦è¡¨ç¤º
        errorDiv.textContent = message;
        errorDiv.classList.add("show");

        console.log(`âŒ ã‚¨ãƒ©ãƒ¼ [${inputId}]: ${message}`);
      }

      // ===== ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹é–¢æ•° =====
      function clearError(inputId, errorId) {
        const input = document.getElementById(inputId);
        const errorDiv = document.getElementById(errorId);

        // errorã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤
        input.classList.remove("error");

        // ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’éè¡¨ç¤º
        errorDiv.classList.remove("show");
      }

      // ===== å…¨ã¦ã®ã‚¨ãƒ©ãƒ¼ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹é–¢æ•° =====
      function clearAllErrors() {
        clearError("email", "emailError");
        clearError("password", "passwordError");
        successMessage.classList.remove("show");
        console.log("ğŸ§¹ å…¨ã¦ã®ã‚¨ãƒ©ãƒ¼ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ");
      }

      // ===== ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•° =====
      function validateEmail(email) {
        // ç©ºãƒã‚§ãƒƒã‚¯
        if (email.trim().length === 0) {
          return {
            valid: false,
            message: "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",
          };
        }

        // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å½¢å¼ãƒã‚§ãƒƒã‚¯ï¼ˆç°¡æ˜“çš„ãªæ­£è¦è¡¨ç¾ï¼‰
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailPattern.test(email)) {
          return {
            valid: false,
            message: "æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆä¾‹: user@example.comï¼‰",
          };
        }

        // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æˆåŠŸ
        return { valid: true };
      }

      // ===== ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•° =====
      function validatePassword(password) {
        // ç©ºãƒã‚§ãƒƒã‚¯
        if (password.length === 0) {
          return {
            valid: false,
            message: "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",
          };
        }

        // æœ€å°æ–‡å­—æ•°ãƒã‚§ãƒƒã‚¯
        if (password.length < 8) {
          return {
            valid: false,
            message: `ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯8æ–‡å­—ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆç¾åœ¨: ${password.length}æ–‡å­—ï¼‰`,
          };
        }

        // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æˆåŠŸ
        return { valid: true };
      }

      // ===== ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã‚¤ãƒ™ãƒ³ãƒˆ =====
      form.addEventListener("submit", function (event) {
        // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®é€ä¿¡å‹•ä½œã‚’é˜²ã
        event.preventDefault();

        console.log("=== ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ ãŒé€ä¿¡ã•ã‚Œã¾ã—ãŸ ===");

        // æ—¢å­˜ã®ã‚¨ãƒ©ãƒ¼ã‚’ã‚¯ãƒªã‚¢
        clearAllErrors();

        // ã‚¨ãƒ©ãƒ¼ãƒ•ãƒ©ã‚°
        let hasError = false;

        // ===== ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ =====
        const email = emailInput.value;
        const emailResult = validateEmail(email);

        if (!emailResult.valid) {
          showError("email", "emailError", emailResult.message);
          hasError = true;
        } else {
          console.log("âœ“ ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹: OK");
        }

        // ===== ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ =====
        const password = passwordInput.value;
        const passwordResult = validatePassword(password);

        if (!passwordResult.valid) {
          showError("password", "passwordError", passwordResult.message);
          hasError = true;
        } else {
          console.log("âœ“ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: OK");
        }

        // ===== çµæœåˆ¤å®š =====
        if (hasError) {
          console.log("\nâŒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Šã¾ã™");
          console.log("ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèªã—ã¦ã€ä¿®æ­£ã—ã¦ãã ã•ã„");
        } else {
          // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æˆåŠŸ
          console.log("\nğŸ‰ å…¨ã¦ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã«æˆåŠŸã—ã¾ã—ãŸï¼");
          console.log("ãƒ­ã‚°ã‚¤ãƒ³ãƒ‡ãƒ¼ã‚¿:");
          console.log("  - ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹:", email);
          console.log("  - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰:", "********");

          // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
          successMessage.classList.add("show");

          // ã‚¹ãƒ ãƒ¼ã‚ºã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
          successMessage.scrollIntoView({
            behavior: "smooth",
            block: "nearest",
          });
        }
      });

      // ===== å…¥åŠ›ã‚’å§‹ã‚ãŸã‚‰ã‚¨ãƒ©ãƒ¼ã‚’ã‚¯ãƒªã‚¢ï¼ˆUXå‘ä¸Šï¼‰ =====
      emailInput.addEventListener("input", function () {
        // æ—¢ã«ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹å ´åˆã®ã¿ã‚¯ãƒªã‚¢
        if (emailInput.classList.contains("error")) {
          clearError("email", "emailError");
          console.log("ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å…¥åŠ›ã‚’é–‹å§‹ - ã‚¨ãƒ©ãƒ¼ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ");
        }
      });

      passwordInput.addEventListener("input", function () {
        if (passwordInput.classList.contains("error")) {
          clearError("password", "passwordError");
          console.log("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å…¥åŠ›ã‚’é–‹å§‹ - ã‚¨ãƒ©ãƒ¼ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ");
        }
      });

      // ===== ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ =====
      console.log("ğŸ” ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ ãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ");
      console.log("\nã€å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆã€‘");
      console.log("1. JavaScriptã§ç‹¬è‡ªã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…");
      console.log("2. å…·ä½“çš„ã§åˆ†ã‹ã‚Šã‚„ã™ã„ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º");
      console.log("3. ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã‚’è¦–è¦šçš„ã«è¡¨ç¾ï¼ˆèµ¤ã„æ ç·šï¼‰");
      console.log("4. å…¥åŠ›ã‚’å§‹ã‚ãŸã‚‰ã‚¨ãƒ©ãƒ¼ã‚’ã‚¯ãƒªã‚¢ï¼ˆè‰¯ã„UXï¼‰");
      console.log("\nã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•°ã®æ§‹é€ ã€‘");
      console.log("- å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã”ã¨ã«ç‹¬ç«‹ã—ãŸé–¢æ•°ã‚’ä½œæˆ");
      console.log("- æˆ»ã‚Šå€¤: { valid: boolean, message: string }");
      console.log("- å†åˆ©ç”¨å¯èƒ½ã§ä¿å®ˆã—ã‚„ã™ã„");
      console.log("\nè©¦ã—ã¦ã¿ã¦ãã ã•ã„:");
      console.log("1. ä½•ã‚‚å…¥åŠ›ã›ãšã«é€ä¿¡ â†’ ä¸¡æ–¹ã‚¨ãƒ©ãƒ¼");
      console.log("2. ãƒ¡ãƒ¼ãƒ«ã« 'abc' ã ã‘å…¥åŠ› â†’ ãƒ¡ãƒ¼ãƒ«å½¢å¼ã‚¨ãƒ©ãƒ¼");
      console.log("3. ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã« '1234' ã ã‘å…¥åŠ› â†’ æ–‡å­—æ•°ã‚¨ãƒ©ãƒ¼");
      console.log("4. æ­£ã—ãå…¥åŠ› â†’ æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º");
    </script>
  </body>
</html>
