<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å•é¡Œ6: å‹•çš„ã«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ ãƒ»å‰Šé™¤</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
      }

      .container {
        background: white;
        border-radius: 12px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        padding: 40px;
        max-width: 650px;
        width: 100%;
        max-height: 90vh;
        overflow-y: auto;
      }

      h1 {
        color: #333;
        margin-bottom: 10px;
        font-size: 28px;
      }

      .description {
        color: #666;
        margin-bottom: 24px;
        font-size: 14px;
        line-height: 1.6;
      }

      .info-box {
        background: #e7f5ff;
        border-left: 4px solid #339af0;
        padding: 12px;
        margin-bottom: 24px;
        border-radius: 4px;
        font-size: 13px;
        color: #1971c2;
      }

      /* ã‚¹ã‚­ãƒ«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚³ãƒ³ãƒ†ãƒŠ */
      #skillsContainer {
        margin-bottom: 20px;
      }

      .skill-group {
        margin-bottom: 16px;
        padding: 16px;
        border: 2px solid #e9ecef;
        border-radius: 8px;
        background: #f8f9fa;
        position: relative;
        transition: border-color 0.3s;
      }

      .skill-group:hover {
        border-color: #a8edea;
      }

      .skill-group label {
        display: block;
        margin-bottom: 8px;
        color: #333;
        font-weight: 600;
        font-size: 14px;
      }

      .skill-input-wrapper {
        display: flex;
        gap: 10px;
        align-items: center;
      }

      .skill-group input {
        flex: 1;
        padding: 10px;
        border: 2px solid #ddd;
        border-radius: 6px;
        font-size: 16px;
        transition: border-color 0.3s;
      }

      .skill-group input:focus {
        outline: none;
        border-color: #a8edea;
      }

      /* å‰Šé™¤ãƒœã‚¿ãƒ³ */
      .remove-btn {
        padding: 10px 16px;
        background: #ff6b6b;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 600;
        transition: background 0.3s, transform 0.2s;
        white-space: nowrap;
      }

      .remove-btn:hover {
        background: #ff5252;
        transform: scale(1.05);
      }

      /* è¿½åŠ ãƒœã‚¿ãƒ³ */
      .add-btn {
        width: 100%;
        padding: 12px;
        background: #51cf66;
        color: white;
        border: none;
        border-radius: 6px;
        font-size: 15px;
        font-weight: 600;
        cursor: pointer;
        transition: background 0.3s, transform 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }

      .add-btn:hover:not(:disabled) {
        background: #40c057;
        transform: translateY(-2px);
      }

      .add-btn:disabled {
        background: #adb5bd;
        cursor: not-allowed;
      }

      /* é€ä¿¡ãƒœã‚¿ãƒ³ */
      .submit-btn {
        width: 100%;
        padding: 14px;
        background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        color: #333;
        border: none;
        border-radius: 6px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
        margin-top: 10px;
      }

      .submit-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 20px rgba(168, 237, 234, 0.4);
      }

      /* ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼è¡¨ç¤º */
      .counter {
        text-align: center;
        margin: 16px 0;
        font-size: 14px;
        color: #495057;
        padding: 8px;
        background: #fff3cd;
        border-radius: 6px;
        border-left: 4px solid #ffc107;
      }

      /* çµæœè¡¨ç¤º */
      .result {
        display: none;
        margin-top: 24px;
        padding: 20px;
        background: #d4edda;
        border: 2px solid #c3e6cb;
        border-radius: 8px;
      }

      .result.show {
        display: block;
      }

      .result h3 {
        color: #155724;
        margin-bottom: 12px;
      }

      .skills-list {
        list-style: none;
        padding: 0;
      }

      .skills-list li {
        padding: 8px 12px;
        margin: 4px 0;
        background: white;
        border-radius: 4px;
        border-left: 4px solid #51cf66;
      }

      /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
      @media (max-width: 600px) {
        .container {
          padding: 24px;
        }

        h1 {
          font-size: 24px;
        }

        .skill-input-wrapper {
          flex-direction: column;
        }

        .remove-btn {
          width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>â• ã‚¹ã‚­ãƒ«ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ </h1>
      <p class="description">
        å•é¡Œ6ã®è§£ç­”ä¾‹ï¼šJavaScriptã§ãƒ•ã‚©ãƒ¼ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å‹•çš„ã«è¿½åŠ ãƒ»å‰Šé™¤ã—ã¾ã™ã€‚
      </p>

      <div class="info-box">
        ğŸ’¡
        <strong>æ“ä½œæ–¹æ³•</strong>:
        ã€Œã‚¹ã‚­ãƒ«ã‚’è¿½åŠ ã€ãƒœã‚¿ãƒ³ã§æ–°ã—ã„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ ã§ãã¾ã™ã€‚å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã€Œå‰Šé™¤ã€ãƒœã‚¿ãƒ³ã§å‰Šé™¤ã§ãã¾ã™ï¼ˆæœ€åˆã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’é™¤ãï¼‰ã€‚æœ€å¤§5å€‹ã¾ã§è¿½åŠ å¯èƒ½ã§ã™ã€‚
      </div>

      <form id="skillsForm">
        <!-- ã‚¹ã‚­ãƒ«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚³ãƒ³ãƒ†ãƒŠ -->
        <div id="skillsContainer">
          <!-- æœ€åˆã®ã‚¹ã‚­ãƒ«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆå‰Šé™¤ãƒœã‚¿ãƒ³ãªã—ï¼‰ -->
          <div class="skill-group">
            <label>ã‚¹ã‚­ãƒ« 1</label>
            <div class="skill-input-wrapper">
              <input
                type="text"
                name="skills[]"
                placeholder="ä¾‹: JavaScript"
                required
              />
            </div>
          </div>
        </div>

        <!-- ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ -->
        <div class="counter" id="counter">
          ç¾åœ¨ã®ã‚¹ã‚­ãƒ«æ•°: <strong>1</strong> / æœ€å¤§ 5 å€‹
        </div>

        <!-- è¿½åŠ ãƒœã‚¿ãƒ³ -->
        <button type="button" class="add-btn" id="addSkillBtn">
          <span>â•</span>
          <span>ã‚¹ã‚­ãƒ«ã‚’è¿½åŠ </span>
        </button>

        <!-- é€ä¿¡ãƒœã‚¿ãƒ³ -->
        <button type="submit" class="submit-btn">ç™»éŒ²ã™ã‚‹</button>
      </form>

      <!-- çµæœè¡¨ç¤º -->
      <div class="result" id="result">
        <h3>ğŸ‰ ç™»éŒ²å®Œäº†ï¼</h3>
        <p>ä»¥ä¸‹ã®ã‚¹ã‚­ãƒ«ãŒç™»éŒ²ã•ã‚Œã¾ã—ãŸ:</p>
        <ul class="skills-list" id="skillsList"></ul>
      </div>
    </div>

    <script>
      // ===== è¦ç´ ã‚’å–å¾— =====
      const form = document.getElementById("skillsForm");
      const skillsContainer = document.getElementById("skillsContainer");
      const addSkillBtn = document.getElementById("addSkillBtn");
      const counter = document.getElementById("counter");
      const result = document.getElementById("result");
      const skillsList = document.getElementById("skillsList");

      // ===== å®šæ•° =====
      const MAX_SKILLS = 5;
      let skillCount = 1; // ç¾åœ¨ã®ã‚¹ã‚­ãƒ«æ•°

      // ===== ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼è¡¨ç¤ºã‚’æ›´æ–° =====
      function updateCounter() {
        counter.innerHTML = `ç¾åœ¨ã®ã‚¹ã‚­ãƒ«æ•°: <strong>${skillCount}</strong> / æœ€å¤§ ${MAX_SKILLS} å€‹`;

        // æœ€å¤§æ•°ã«é”ã—ãŸã‚‰ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®è‰²ã‚’å¤‰æ›´
        if (skillCount >= MAX_SKILLS) {
          counter.style.background = "#ffe0e0";
          counter.style.borderLeftColor = "#ff6b6b";
        } else {
          counter.style.background = "#fff3cd";
          counter.style.borderLeftColor = "#ffc107";
        }
      }

      // ===== ã‚¹ã‚­ãƒ«ãƒ©ãƒ™ãƒ«ã®ç•ªå·ã‚’æ›´æ–° =====
      function updateSkillLabels() {
        const skillGroups = skillsContainer.querySelectorAll(".skill-group");
        skillGroups.forEach((group, index) => {
          const label = group.querySelector("label");
          label.textContent = `ã‚¹ã‚­ãƒ« ${index + 1}`;
        });
        skillCount = skillGroups.length;
        updateCounter();

        console.log(`ã‚¹ã‚­ãƒ«ãƒ©ãƒ™ãƒ«ã‚’æ›´æ–°ã—ã¾ã—ãŸï¼ˆåˆè¨ˆ: ${skillCount}å€‹ï¼‰`);
      }

      // ===== ã‚¹ã‚­ãƒ«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ  =====
      addSkillBtn.addEventListener("click", function () {
        // æœ€å¤§æ•°ãƒã‚§ãƒƒã‚¯
        if (skillCount >= MAX_SKILLS) {
          alert(`ã‚¹ã‚­ãƒ«ã¯æœ€å¤§${MAX_SKILLS}å€‹ã¾ã§ã—ã‹è¿½åŠ ã§ãã¾ã›ã‚“ã€‚`);
          return;
        }

        skillCount++;

        // æ–°ã—ã„ã‚¹ã‚­ãƒ«ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆ
        const skillGroup = document.createElement("div");
        skillGroup.className = "skill-group";

        // HTMLã‚’è¨­å®š
        skillGroup.innerHTML = `
          <label>ã‚¹ã‚­ãƒ« ${skillCount}</label>
          <div class="skill-input-wrapper">
            <input type="text" name="skills[]" placeholder="ä¾‹: React" required />
            <button type="button" class="remove-btn">å‰Šé™¤</button>
          </div>
        `;

        // ã‚³ãƒ³ãƒ†ãƒŠã«è¿½åŠ 
        skillsContainer.appendChild(skillGroup);

        // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœï¼ˆãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³ï¼‰
        skillGroup.style.opacity = "0";
        skillGroup.style.transform = "translateY(-10px)";
        setTimeout(() => {
          skillGroup.style.transition = "all 0.3s ease-out";
          skillGroup.style.opacity = "1";
          skillGroup.style.transform = "translateY(0)";
        }, 10);

        // å‰Šé™¤ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¨­å®š
        const removeBtn = skillGroup.querySelector(".remove-btn");
        removeBtn.addEventListener("click", function () {
          // ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
          skillGroup.style.transition = "all 0.3s ease-out";
          skillGroup.style.opacity = "0";
          skillGroup.style.transform = "translateY(-10px)";

          // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†å¾Œã«å‰Šé™¤
          setTimeout(() => {
            skillsContainer.removeChild(skillGroup);
            updateSkillLabels();

            // è¿½åŠ ãƒœã‚¿ãƒ³ã‚’æœ‰åŠ¹åŒ–
            if (skillCount < MAX_SKILLS) {
              addSkillBtn.disabled = false;
            }

            console.log(`ã‚¹ã‚­ãƒ«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å‰Šé™¤ã—ã¾ã—ãŸï¼ˆæ®‹ã‚Š: ${skillCount}å€‹ï¼‰`);
          }, 300);
        });

        // ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’æ›´æ–°
        updateCounter();

        // æœ€å¤§æ•°ã«é”ã—ãŸã‚‰è¿½åŠ ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–
        if (skillCount >= MAX_SKILLS) {
          addSkillBtn.disabled = true;
          console.log(`æœ€å¤§æ•°ï¼ˆ${MAX_SKILLS}å€‹ï¼‰ã«é”ã—ã¾ã—ãŸ`);
        }

        // æ–°ã—ãè¿½åŠ ã—ãŸãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹
        const newInput = skillGroup.querySelector("input");
        newInput.focus();

        console.log(`ã‚¹ã‚­ãƒ«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ ã—ã¾ã—ãŸï¼ˆåˆè¨ˆ: ${skillCount}å€‹ï¼‰`);
      });

      // ===== ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã‚¤ãƒ™ãƒ³ãƒˆ =====
      form.addEventListener("submit", function (event) {
        event.preventDefault();

        console.log("=== ãƒ•ã‚©ãƒ¼ãƒ ãŒé€ä¿¡ã•ã‚Œã¾ã—ãŸ ===");

        // FormDataã§å…¨ã¦ã®ã‚¹ã‚­ãƒ«ã‚’å–å¾—ï¼ˆé…åˆ—ã¨ã—ã¦ï¼‰
        const formData = new FormData(form);
        const skills = formData.getAll("skills[]");

        // ç©ºã®ã‚¹ã‚­ãƒ«ã‚’é™¤å¤–
        const validSkills = skills.filter((skill) => skill.trim().length > 0);

        console.log("ç™»éŒ²ã•ã‚ŒãŸã‚¹ã‚­ãƒ«:", validSkills);
        console.log("ã‚¹ã‚­ãƒ«æ•°:", validSkills.length);

        // çµæœã‚’è¡¨ç¤º
        skillsList.innerHTML = "";
        validSkills.forEach((skill, index) => {
          const li = document.createElement("li");
          li.textContent = `${index + 1}. ${skill}`;
          skillsList.appendChild(li);
        });

        result.classList.add("show");

        // ã‚¹ãƒ ãƒ¼ã‚ºã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
        result.scrollIntoView({ behavior: "smooth", block: "nearest" });

        console.log("âœ“ ã‚¹ã‚­ãƒ«ã®ç™»éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸ");
      });

      // ===== ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ =====
      console.log("â• å‹•çš„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ ãƒ•ã‚©ãƒ¼ãƒ ãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ");
      console.log("\nã€å®Ÿè£…ã®ãƒã‚¤ãƒ³ãƒˆã€‘");
      console.log("1. document.createElement()ã§æ–°ã—ã„è¦ç´ ã‚’ä½œæˆ");
      console.log("2. appendChild()ã§DOMã«è¿½åŠ ");
      console.log("3. removeChild()ã§è¦ç´ ã‚’å‰Šé™¤");
      console.log("4. name='skills[]'ã§é…åˆ—ã¨ã—ã¦æ‰±ã†");
      console.log("5. FormData.getAll()ã§å…¨ã¦ã®å€¤ã‚’é…åˆ—ã¨ã—ã¦å–å¾—");
      console.log("\nã€å‹•çš„ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã€‘");
      console.log("- æ–°ã—ãè¿½åŠ ã—ãŸå‰Šé™¤ãƒœã‚¿ãƒ³ã«ã‚‚ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¨­å®š");
      console.log("- è¦ç´ ã‚’è¿½åŠ ã—ãŸç›´å¾Œã«ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚‚è¨­å®šã™ã‚‹");
      console.log("\nã€çŠ¶æ…‹ç®¡ç†ã€‘");
      console.log("- skillCountã§ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ•°ã‚’è¿½è·¡");
      console.log("- æœ€å¤§æ•°ã«é”ã—ãŸã‚‰è¿½åŠ ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–");
      console.log("- å‰Šé™¤ã—ãŸã‚‰ãƒ©ãƒ™ãƒ«ã®ç•ªå·ã‚’æŒ¯ã‚Šç›´ã™");
      console.log("\nå®Ÿéš›ã«æ“ä½œã—ã¦ã¿ã¦ãã ã•ã„:");
      console.log("1. ã€Œã‚¹ã‚­ãƒ«ã‚’è¿½åŠ ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ æ–°ã—ã„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒè¿½åŠ ");
      console.log("2. 5å€‹è¿½åŠ ã™ã‚‹ã¨ã€è¿½åŠ ãƒœã‚¿ãƒ³ãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹");
      console.log("3. ã€Œå‰Šé™¤ã€ãƒœã‚¿ãƒ³ã§ä¸è¦ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å‰Šé™¤");
      console.log("4. å‰Šé™¤ã™ã‚‹ã¨ã€ç•ªå·ãŒè‡ªå‹•ã§æŒ¯ã‚Šç›´ã•ã‚Œã‚‹");
      console.log("5. ã€Œç™»éŒ²ã™ã‚‹ã€ã§å…¨ã¦ã®ã‚¹ã‚­ãƒ«ã‚’é…åˆ—ã¨ã—ã¦å–å¾—");
    </script>
  </body>
</html>
